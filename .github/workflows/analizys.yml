name: Check Vulnerabilities

on:
  schedule:
    - cron: '0 0 * * 0'  # Run every Sunday at midnight

jobs:
  check-vulnerabilities:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        repo: 
          - 'centralcordoba/MarvelAngular'
          - 'centralcordoba/indexDbReactjs'         
    steps:
    - name: Check for Vulnerabilities
      run: |
        REPO=${{ matrix.repo }}
        TOKEN=${{ secrets.SECRET_SECURITY }}
        
        # Get vulnerability alerts using GitHub API
        VULN_DATA=$(curl -H "Authorization: token $TOKEN" \
                        -H "Accept: application/vnd.github.v3+json" \
                        https://api.github.com/repos/$REPO/vulnerability-alerts)
        
        # Process data as desired
        # You might analyze $VULN_DATA and potentially send notifications, create issues, etc.

    - name: Notify Results
      run: |
        [Your Notification Command or Script based on processed $VULN_DATA]
